<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Candidatos | APB Vision</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style_moderno.css') }}">
</head>
<body>
    <div class="header">
        <div class="logo">
            <img src="{{ url_for('static', filename='img/logo_apb_vision.png') }}" alt="Logo APB Vision" style="height:48px;vertical-align:middle;margin-right:12px;background:transparent;">
            <span>APB <span class="logo-vision">Vision</span></span>
        </div>
        <nav class="navbar">
            <ul>
                <li><a href="/home">Home</a></li>
                <li><a href="/vagas">Vagas</a></li>
                <li><a href="/candidatos_ranqueados" class="active">Candidatos</a></li>
                <li><a href="#">Configurações</a></li>
            </ul>
        </nav>
        <div class="user-info">
            <img src="{{ url_for('static', filename='images/user_profile.jpg') }}" alt="Foto de perfil">
            <span id="user-nome">Olá, Usuário!</span>
        </div>
    </div>
    <div class="main-content content-wrapper">
        <div class="container-central">
            <h1 class="dashboard-title">Lista de Candidatos</h1>
            <ul id="lista-candidatos" class="lista-candidatos"></ul>
        </div>
    </div>
    <script>
// Preencher nome do usuário autenticado
let nome = localStorage.getItem('user_nome');
if (nome) {
    document.getElementById('user-nome').textContent = `Olá, ${nome}!`;
}
    // Buscar candidatos
    fetch('/api/candidatos')
        .then(res => res.json())
        .then(data => {
            const ul = document.getElementById('lista-candidatos');
            ul.innerHTML = '';
            if (data.length === 0) {
                ul.innerHTML = '<li style="text-align:center;color:#888;margin-top:30px;">Nenhum candidato encontrado.</li>';
            } else {
                data.forEach(c => {
                    const li = document.createElement('li');
                    li.textContent = c.nome;
                    li.style.padding = '10px 0';
                    li.style.borderBottom = '1px solid #eee';
                    ul.appendChild(li);
                });
            }
        });
    </script>
</body>
</html>
